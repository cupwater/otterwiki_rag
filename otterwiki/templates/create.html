{# vim: set et ts=8 sts=4 sw=4 ai: #}
{% extends "form.html" %}
{% block formcontent %}
<form action="{{url_for("create")}}" method="POST" class="form-inline" enctype="multipart/form-data">{# class="w-400 mw-full" <!-- w-400 = width: 40rem (400px), mw-full = max-width: 100% --> #}
  <div class="form-group mb-10">
    <label for="pagename" class="required w-100">页面名称</label>
    <input type="text" class="form-control" name="pagename" id="pagename" placeholder="页面名称" required="required" value="{{ pagename if pagename }}" autofocus>
  </div>
  {% if pagename_prefixes and pagename_prefixes|length > 0  %}
  <div class="form-group mb-5">
    <div class="w-100 mr-10">
    在子目录中创建页面:
    </div>
    <div style="position: relative; -ms-flex: 1 1 0%; flex: 1 1 0%; min-width: 0;">
    {% for prefix in pagename_prefixes %}
    <button type="button" class="btn btn-xsm mb-5 mr-5" onclick="return otterwiki.toggle_pagename_prefix('pagename','{{prefix}}')">{{prefix}}/</button>
    {% endfor %}
    </div>
  </div>
  {% endif %}
  
  <!-- File upload section -->
  <div class="form-group mb-10">
    <div class="w-100">
      <label class="form-label">从文件创建（可选）</label>
      <div class="form-text mb-5">
        上传文件以自动生成页面内容。支持 Markdown、CSV、TXT、JSON、DOCX、DOC、Excel、PPT、PDF 文件。
      </div>
      <div class="custom-file">
        <input name="file" type="file" id="file-upload" accept=".md,.markdown,.csv,.txt,.json,.docx,.doc,.xls,.xlsx,.ppt,.pptx,.pdf">
        <label for="file-upload">选择要上传和解析的文件</label>
      </div>
    </div>
  </div>
  
  <div class="form-group">
    <div class="form-text text-wrap font-italic">
        提示：避免使用缩写。尝试将名称限制在三个简单词汇以内。
    </div>
  </div>
  <input class="btn btn-primary" type="submit" value="创建并在编辑器中打开">
</form>
{% endblock %}
