{#- vim: set et ts=8 sts=4 sw=4 ai: -#}
{% extends "wiki.html" %}
{% block content %}
<div class="w-full mw-full p-0 clearfix">
    <div class="float-left">
        <h2 class="m-0">文件夹上传成功</h2>
        <p class="text-muted m-0">文件夹 "{{folder_name}}" 已成功处理</p>
    </div>
    <div class="float-right">
        <a href="{{ url_for('index') }}" class="btn btn-primary" title="返回首页">
            <i class="fas fa-home"></i> 返回首页
        </a>
        <a href="{{ url_for('pageindex') }}" class="btn" title="查看所有页面">
            <i class="fas fa-list"></i> 页面索引
        </a>
    </div>
</div>
<div class="clearfix"></div>

<div class="mt-15">
    <div class="alert alert-success">
        <h4 class="alert-heading">
            <i class="fas fa-check-circle"></i> 上传成功！
        </h4>
        <p>成功从文件夹 "{{folder_name}}" 创建了 <strong>{{created_count}}</strong> 个页面。</p>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 class="card-title">创建的页面列表</h3>
        </div>
        <div class="card-body">
            {% if created_pages %}
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>页面名称</th>
                            <th>原文件</th>
                            <th>内容预览</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for page in created_pages %}
                        <tr>
                            <td>{{loop.index}}</td>
                            <td>
                                <strong>{{page.page_name}}</strong>
                            </td>
                            <td>
                                <code>{{page.file_path}}</code>
                            </td>
                            <td>
                                <small class="text-muted">{{page.content_preview}}</small>
                            </td>
                            <td>
                                <a href="{{ url_for('view', path=page.page_name) }}" class="btn btn-sm btn-primary" title="查看页面">
                                    <i class="fas fa-eye"></i> 查看
                                </a>
                                <a href="{{ url_for('edit', path=page.page_name) }}" class="btn btn-sm" title="编辑页面">
                                    <i class="fas fa-edit"></i> 编辑
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
            <p class="text-muted">没有找到可处理的文件。</p>
            {% endif %}
        </div>
    </div>

    <div class="mt-15">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title">下一步操作</h4>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="text-center">
                            <i class="fas fa-eye fa-2x text-primary mb-10"></i>
                            <h5>查看页面</h5>
                            <p class="text-muted">点击上表中的"查看"按钮来浏览创建的页面内容。</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <i class="fas fa-edit fa-2x text-success mb-10"></i>
                            <h5>编辑页面</h5>
                            <p class="text-muted">点击"编辑"按钮来修改页面内容或添加更多信息。</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <i class="fas fa-list fa-2x text-info mb-10"></i>
                            <h5>页面索引</h5>
                            <p class="text-muted">访问页面索引来查看所有可用的页面。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 